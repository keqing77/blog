---
id: git-common-commands
slug: /git-common-commands
title: Gitå¸¸ç”¨å‘½ä»¤
date: 2022-08-18
authors: keqing
tags: [git]
keywords: [git]
sidebar_position: 2
---

<!-- truncate -->

## Git é…ç½®

### Git config

```bash
# å…¨å±€é…ç½® ç”¨æˆ·å å’Œ é‚®ç®±
git config --global user.name â€˜ç”¨æˆ·åâ€™
git config --global user.email â€˜ä½ çš„é‚®ç®±â€™
git config --list    #åˆ—å‡ºé…ç½®é¡¹
ssh-keygen -t rsa -C "ä½ çš„é‚®ç®±"  #å¤åˆ¶id_rsa_pub é‡Œé¢çš„å…¬é’¥åˆ°githubä¸Š

# é…ç½®å½“å‰é¡¹ç›® ç”¨æˆ·å å’Œ é‚®ç®±
git config user.name 'ç”¨æˆ·å'
git config user.email 'é‚®ç®±'

#å±•ç¤ºæ‰€æœ‰ alias å’Œ configs
git config --local --list #(å½“å‰ç›®å½•)
git config --global --list #(å…¨å±€)

```

### Git Alias(åˆ«å)

> é…ç½® Git å‘½ä»¤åˆ«å, å‡å°‘é‡å¤æ€§å·¥ä½œ

```bash
# å¯ä»¥åœ¨ git é…ç½® , ä¹Ÿå¯ä»¥åœ¨ shell é…ç½®, å¦‚ .zshrc
alias gc='git clone'
alias gs='git status'
alias gd='git diff'
alias ga='git add .'
alias gcm='git commit -m'
alias gb='git branch'
alias gba='git branch -a'
alias gp='git pull'
alias gpu='git push'
alias gl='git log'
```

## Git commit è§„èŒƒ

> Commit

- feat - A new feature
- fix -A bug fix
- docs - Documentation only changes
- style - Changes that do not affect the meaning of the code (white-space, formatting, missing semi-colons, etc)
- refactor - A code change that neither fixes a bug nor adds a feature Type of change
- chore - Other changes that don't modify src or test files
- test - Adding missing tests or correcting existing tests
- perf - A code change that improves performance
- build - Changes that affect the build system or external dependencies (example scopes: gulp, broccoli,npm)
- ci - Changes to our Cl configuration files and scripts (example scopes: Travis, Circle,BrowserStack, SauceLabs)
- revert - Reverts a previous commit

## å¸¸ç”¨å‘½ä»¤

### æŸ¥çœ‹ä»“åº“çŠ¶æ€

```bash
git status
```

### æŸ¥çœ‹æ—¥å¿—

```bash {6}
git log                            # æŸ¥çœ‹æ—¥å¿—
git log -p                         # æŸ¥çœ‹è¯¦ç»†å†å²
git log --stat                     # æŸ¥çœ‹ç®€è¦ç»Ÿè®¡
git log --oneline --graph 		   # æŸ¥çœ‹ç®€å•å†å² æ˜¾ç¤ºæ ‘

git reflog                         # æŸ¥çœ‹æ‰€æœ‰æ“ä½œè®°å½•(åŒ…å«å·²åˆ é™¤çš„ commit)
```

### å…‹éš†ä»“åº“

```bash {2}
git clone repoUrl
# å…‹éš†æ—¶å€™è¦æ³¨æ„ å…‹éš†çš„ åˆ†æ”¯ æ˜¯å¦ æ˜¯ä½ æƒ³è¦çš„~
```

### åˆ›å»ºåˆ†æ”¯å¹¶åˆ‡æ¢

```bash
# åˆ›å»ºåˆ†æ”¯å¹¶åˆ‡æ¢
git checkout -b åˆ†æ”¯åç§°

# åˆ›å»ºåˆ†æ”¯
git branch åˆ†æ”¯åç§°

# åˆ‡æ¢åˆ†æ”¯
git checkout åˆ†æ”¯åç§°

# å› ä¸ºgit checkout æ—¢æœ‰æ’¤é”€æ–‡ä»¶ åˆæœ‰åˆ›å»ºæ–‡ä»¶ç­‰åŠŸèƒ½, æ¨èä½¿ç”¨ git switchåˆ‡æ¢åˆ†æ”¯
git switch åˆ‡æ¢åˆ†æ”¯
```

### åˆ é™¤æŸæ¡åˆ†æ”¯

```bash
git branch -d åˆ†æ”¯åç§°           # åˆ é™¤è¯¥åˆ†æ”¯ï¼ˆä¸èƒ½åˆ é™¤å½“å‰æ‰€åœ¨çš„åˆ†æ”¯ï¼Œä¸èƒ½åˆ é™¤æ²¡æœ‰åˆå¹¶åˆ°masterä¸Šçš„åˆ†æ”¯ï¼‰
git branch -D åˆ†æ”¯åç§°           # åˆ é™¤è¯¥åˆ†æ”¯ï¼ˆå¯ä»¥åˆ é™¤æ²¡æœ‰åˆå¹¶åˆ°masterä¸Šçš„åˆ†æ”¯ï¼‰
git push -d origin branchName   # åˆ é™¤è¿œç¨‹åˆ†æ”¯
```

### æäº¤å¹¶æ¨é€

```bash
git commit -m 'æ³¨é‡Šä¿¡æ¯'
git push 'æœ¬åœ°åˆ†æ”¯'  'è¿œç¨‹åˆ†æ”¯'
```

### æ’¤é”€å·²ç» add çš„æ–‡ä»¶

```bash
git reset HEAD <è·¯å¾„/æ–‡ä»¶å> # å›é€€æš‚å­˜åŒºé‡Œçš„æ–‡ä»¶
```

### æ’¤é”€å·²ç» commit çš„æ–‡ä»¶

```bash
git reset --hard HEAD^   # ä¸¢å¼ƒæœ€æ–°æäº¤ï¼ˆæœªæäº¤çš„å†…å®¹ä¼šè¢«æ“¦æ‰ï¼‰
git reset --soft HEAD^   # ä¸¢å¼ƒæœ€æ–°æäº¤ï¼ˆæœªæäº¤çš„å†…å®¹ä¸ä¼šè¢«æ“¦æ‰ï¼‰
```

### ä¿®æ”¹ commit æ³¨é‡Šä¿¡æ¯

```bash
git commit --amend        #å¯¹æœ€æ–°çš„ä¸€æ¡commitè¿›è¡Œä¿®æ­£
```

### æš‚å­˜ä»£ç (åŠ éœ€æ±‚å¸¸ç”¨)

```bash
git stash           # æš‚å­˜ä»£ç (ç›´æ¥ä¿å­˜å½“å‰ä¿®æ”¹çš„æ–‡ä»¶ä»£ç )
git stash list      # æŸ¥çœ‹æš‚å­˜ä»£ç åˆ—è¡¨
git stash apply     # å‘½ä»¤æ—¶å¯ä»¥é€šè¿‡åå­—æŒ‡å®šä½¿ç”¨å“ªä¸ªstashï¼Œé»˜è®¤ä½¿ç”¨æœ€è¿‘çš„stashï¼ˆå³stash@{0}ï¼‰
git stash pop       # å¼¹å‡ºæš‚å­˜ä»£ç ï¼ˆå‡ºæ ˆï¼Œåˆ é™¤listçš„è¿™è¡Œè®°å½•ï¼‰
git stash drop      # åˆ é™¤æŒ‡å®šçš„stashè®°å½•
```

### æŸ¥çœ‹æŸæ®µä»£ç è°å†™çš„

> blame çš„æ„æ€æ˜¯ 'è´£æ€ª' , ä½¿ç”¨è¿™æ¡å‘½ä»¤çš„èƒŒåå«ä¹‰ä½ æ‡‚çš„ ğŸ˜

```bash
git blame <file-name>
```

### git æŸ¥çœ‹æŸä¸ªæ–‡ä»¶çš„ä¿®æ”¹å†å²

```bash
git show 'æ¯æ¬¡æäº¤äº§ç”Ÿçš„å“ˆå¸Œå€¼'
```

### æäº¤ Pull Request

1. å…ˆ fork æºä»“åº“
2. ä¿®æ”¹ä»£ç 
3. åˆ›å»ºæ–°çš„åˆ†æ”¯
4. æäº¤ä»£ç åˆ°æ–°åˆ†æ”¯
5. æ‹‰å–ä¸€ä¸‹æœ€æ–°ä»£ç 
6. åˆ°æºä»“åº“å‘èµ· pr
7. ç­‰å¾… merge

### åˆå¹¶åˆ†æ”¯

```bash
git merge 'åˆ†æ”¯åç§°'          #  å°†åˆ†æ”¯åˆå¹¶åˆ°å½“å‰åˆ†æ”¯

git rebase -i
```

### é‡æ–°è®¾ç½®åŸºå‡†ç‚¹

```bash {2}
git rebase ç›®æ ‡åŸºç¡€ç‚¹                     é‡æ–°è®¾ç½®åŸºç¡€ç‚¹
git pull --rebase 			ä»è¿œç¨‹ä»“åº“æ‹‰å»ä»£ç å¹¶é‡æ–°è®¾ç½®åŸºç¡€ç‚¹
```

### è§£å†³å†²çª

å†²çªè¯´æ˜ æœ‰ 2 äººä»¥ä¸Šä¿®æ”¹äº†åŒä¸€ä¸ªæ–‡ä»¶, git ä¸çŸ¥é“è¯¥ä¿ç•™å“ªä¸€ä¸ªäººä¿®æ”¹çš„ä»£ç 

> é‡åˆ°å†²çªéœ€è¦æ‰‹åŠ¨ä¿®æ”¹ , æ‰‹åŠ¨ä¿®æ”¹å†²çªçš„æ–‡ä»¶

```bash
git fetch    # æ‹‰å–è¿œç«¯ä»£ç ,ä½†ä¸merge
git merge    # git pull  =  git fetch + git merge
```

## monorepo

[Monorepo æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆå¤§å®¶éƒ½åœ¨ç”¨ï¼Ÿ](https://zhuanlan.zhihu.com/p/77577415)

:::tip Monorepo

æŸäº›é¡¹ç›®éœ€è¦åŒ…å«å¹¶ä½¿ç”¨å¦å¤–ä¸€ä¸ªé¡¹ç›®, åˆ™å¯ä»¥æŠŠè¯¥é¡¹ç›®å½“åšé¡¹ç›®çš„å­æ¨¡å—, å®ƒå…è®¸ä½ å°†ä¸€ä¸ª Git ä»“åº“ä½œä¸ºå¦ä¸€ä¸ª Git ä»“åº“çš„å­ç›®å½•ã€‚å®ƒèƒ½è®©ä½ å°†å¦ä¸€ä¸ªä»“åº“å…‹éš†åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­ï¼ŒåŒæ—¶è¿˜ä¿æŒæäº¤çš„ç‹¬ç«‹

:::

## submodule

[Git ä¸­ submodule çš„ä½¿ç”¨](https://zhuanlan.zhihu.com/p/87053283)
